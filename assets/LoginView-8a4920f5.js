import{d as h,u as b,r as V,a as d,b as l,c as x,e as c,f as s,w as _,o as y,g as S,p as L,h as I,i as k,_ as B}from"./index-d135ddc4.js";import{u as C,a as U}from"./users-bfeda456.js";const N=""+new URL("mouse-0bc89001.svg",import.meta.url).href,z=t=>(L("data-v-9c5998f7"),t=t(),I(),t),E={class:"main-container"},M=z(()=>c("div",{class:"title-container"},[c("img",{src:N,class:"mouse-icon"}),c("div",{class:"title"}," 鼠鼠人の饮食Plan ")],-1)),P={class:"form-container"},R=h({__name:"LoginView",setup(t){const m=b(),e=V({account:"",password:""}),a=d(!1),p=C(),i=d([o=>!0]),v=async()=>{a.value=!0,await U.login({account:e.account,password:e.password}).then(async function(o){a.value=!1,m.success("登录成功"),p.setSelf(o.data),k.push("main")}).catch(function(o){console.log(o),a.value=!1})};return(o,n)=>{const r=l("v-text-field"),f=l("v-btn"),w=l("v-form"),g=l("v-sheet");return y(),x("div",E,[M,c("div",P,[s(g,{"max-width":"300",class:"mx-auto"},{default:_(()=>[s(w,{"validate-on":"submit lazy",onSubmit:S(v,["prevent"])},{default:_(()=>[s(r,{modelValue:e.account,"onUpdate:modelValue":n[0]||(n[0]=u=>e.account=u),rules:i.value,label:"账号"},null,8,["modelValue","rules"]),s(r,{modelValue:e.password,"onUpdate:modelValue":n[1]||(n[1]=u=>e.password=u),rules:i.value,label:"密码"},null,8,["modelValue","rules"]),s(f,{loading:a.value,type:"submit",block:"",text:"登录"},null,8,["loading"])]),_:1},8,["onSubmit"])]),_:1})])])}}});const j=B(R,[["__scopeId","data-v-9c5998f7"]]);export{j as default};
