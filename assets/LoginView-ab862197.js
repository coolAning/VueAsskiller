import{d as V,u as x,r as h,a as d,b as u,c as y,e as i,f as s,w as _,o as k,g as S,p as I,h as C,i as L,_ as B}from"./index-417e08f6.js";import{u as N,a as U}from"./users-eb5c42c9.js";const $="/VueAsskiller/assets/mouse-0bc89001.svg",z=a=>(I("data-v-6d2bed46"),a=a(),C(),a),A={class:"main-container"},E=z(()=>i("div",{class:"title-container"},[i("img",{src:$,class:"mouse-icon"}),i("div",{class:"title"}," 鼠鼠人の饮食Plan ")],-1)),M={class:"form-container"},P=V({__name:"LoginView",setup(a){const m=x(),t=h({account:"",password:""}),n=d(!1),l=d(!1),v=N(),r=d([e=>!0]),f=async()=>{l.value=!0,await U.login({account:t.account,password:t.password}).then(async function(e){l.value=!1,localStorage.setItem("token",e.data.token),m.success("登录成功"),v.setSelf({account:e.data.account,uuid:e.data.uuid}),L.push("main")}).catch(function(e){console.log(e),l.value=!1})};return(e,o)=>{const p=u("v-text-field"),b=u("v-btn"),w=u("v-form"),g=u("v-sheet");return k(),y("div",A,[E,i("div",M,[s(g,{"max-width":"300",class:"mx-auto"},{default:_(()=>[s(w,{"validate-on":"submit lazy",onSubmit:S(f,["prevent"])},{default:_(()=>[s(p,{modelValue:t.account,"onUpdate:modelValue":o[0]||(o[0]=c=>t.account=c),rules:r.value,label:"账号"},null,8,["modelValue","rules"]),s(p,{"append-inner-icon":n.value?"mdi-eye-off":"mdi-eye",type:n.value?"text":"password","onClick:appendInner":o[1]||(o[1]=c=>n.value=!n.value),modelValue:t.password,"onUpdate:modelValue":o[2]||(o[2]=c=>t.password=c),rules:r.value,label:"密码"},null,8,["append-inner-icon","type","modelValue","rules"]),s(b,{loading:l.value,type:"submit",block:"",text:"登录"},null,8,["loading"])]),_:1},8,["onSubmit"])]),_:1})])])}}});const q=B(P,[["__scopeId","data-v-6d2bed46"]]);export{q as default};
