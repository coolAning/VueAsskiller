import{d as x,u as V,r as h,a as d,b as u,c as y,e as i,f as a,w as _,o as S,g as k,p as I,h as C,i as L,_ as B}from"./index-602f5226.js";import{u as N,a as U}from"./users-063e1f3d.js";const $="/assets/mouse-0bc89001.svg",z=s=>(I("data-v-6d2bed46"),s=s(),C(),s),E={class:"main-container"},M=z(()=>i("div",{class:"title-container"},[i("img",{src:$,class:"mouse-icon"}),i("div",{class:"title"}," 鼠鼠人の饮食Plan ")],-1)),P={class:"form-container"},T=x({__name:"LoginView",setup(s){const m=V(),t=h({account:"",password:""}),n=d(!1),l=d(!1),v=N(),r=d([e=>!0]),f=async()=>{l.value=!0,await U.login({account:t.account,password:t.password}).then(async function(e){l.value=!1,localStorage.setItem("token",e.data.token),m.success("登录成功"),v.setSelf({account:e.data.account,uuid:e.data.uuid}),L.push("main")}).catch(function(e){console.log(e),l.value=!1})};return(e,o)=>{const p=u("v-text-field"),b=u("v-btn"),w=u("v-form"),g=u("v-sheet");return S(),y("div",E,[M,i("div",P,[a(g,{"max-width":"300",class:"mx-auto"},{default:_(()=>[a(w,{"validate-on":"submit lazy",onSubmit:k(f,["prevent"])},{default:_(()=>[a(p,{modelValue:t.account,"onUpdate:modelValue":o[0]||(o[0]=c=>t.account=c),rules:r.value,label:"账号"},null,8,["modelValue","rules"]),a(p,{"append-inner-icon":n.value?"mdi-eye-off":"mdi-eye",type:n.value?"text":"password","onClick:appendInner":o[1]||(o[1]=c=>n.value=!n.value),modelValue:t.password,"onUpdate:modelValue":o[2]||(o[2]=c=>t.password=c),rules:r.value,label:"密码"},null,8,["append-inner-icon","type","modelValue","rules"]),a(b,{loading:l.value,type:"submit",block:"",text:"登录"},null,8,["loading"])]),_:1},8,["onSubmit"])]),_:1})])])}}});const A=B(T,[["__scopeId","data-v-6d2bed46"]]);export{A as default};
